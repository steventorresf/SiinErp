<form [formGroup]="mainForm" novalidate (ngSubmit)="onSubmit()">
    <h1 mat-dialog-title>{{ 'GENERAL_CITY_TITLE' | translate }}</h1>
    <div mat-dialog-content>
        <div class="row">
            <div class="col">
                <mat-form-field class="full-width">
                    <input matInput placeholder="{{ 'GENERAL_CITY_CITY_CODE' | translate }}" formControlName="cityCode">
                    <mat-error *ngIf="mainForm.controls['cityCode'].hasError('required')">
                        <strong>{{ 'GENERAL_CITY_CITY_CODE' | translate }}</strong>{{ 'COMMON_MESSAGE_ERROR_REQUIRED' | translate }}
                    </mat-error>
                    <mat-error *ngIf="mainForm.controls['cityCode'].hasError('minlength')">
                        {{ 'COMMON_MESSAGE_ERROR_MINLENGTH_PART1' | translate }}<strong>{{ 'GENERAL_CITY_CITY_CODE' | translate }}</strong>{{ 'COMMON_MESSAGE_ERROR_MINLENGTH_PART2' | translate }}
                    </mat-error>
                    <mat-error *ngIf="mainForm.controls['cityCode'].hasError('maxlength')">
                        {{ 'COMMON_MESSAGE_ERROR_MAXLENGTH_PART1' | translate }}<strong>{{ 'GENERAL_CITY_CITY_CODE' | translate }}</strong>{{ 'COMMON_MESSAGE_ERROR_MAXLENGTH_PART2' | translate }}
                    </mat-error>
                </mat-form-field>
            </div>
            <div class="col">
                <mat-form-field class="full-width">
                    <input matInput placeholder="{{ 'GENERAL_CITY_STATE_CODE' | translate }}"
                        formControlName="cityName">
                    <mat-error *ngIf="mainForm.controls['cityName'].hasError('required')">
                        <strong>{{ 'GENERAL_CITY_STATE_CODE' | translate }}</strong>{{ 'COMMON_MESSAGE_ERROR_REQUIRED' | translate }}
                    </mat-error>
                    <mat-error *ngIf="mainForm.controls['cityName'].hasError('minlength')">
                        {{ 'COMMON_MESSAGE_ERROR_MINLENGTH_PART1' | translate }}<strong>{{ 'GENERAL_CITY_STATE_CODE' | translate }}</strong>{{ 'COMMON_MESSAGE_ERROR_MINLENGTH_PART2' | translate }}
                    </mat-error>
                    <mat-error *ngIf="mainForm.controls['cityName'].hasError('maxlength')">
                        {{ 'COMMON_MESSAGE_ERROR_MAXLENGTH_PART1' | translate }}<strong>{{ 'GENERAL_CITY_STATE_CODE' | translate }}</strong>{{ 'COMMON_MESSAGE_ERROR_MAXLENGTH_PART2' | translate }}
                    </mat-error>
                </mat-form-field>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <mat-form-field class="full-width">
                    <input matInput type="number" placeholder="{{ 'GENERAL_CITY_LATITUDE' | translate }}"
                        formControlName="latitude">
                    <mat-error *ngIf="mainForm.controls['latitude'].hasError('required')">
                        <strong>{{ 'GENERAL_CITY_LATITUDE' | translate }}</strong>{{ 'COMMON_MESSAGE_ERROR_REQUIRED' | translate }}
                    </mat-error>
                </mat-form-field>
            </div>
            <div class="col">
                <mat-form-field class="full-width">
                    <input matInput type="number" placeholder="{{ 'GENERAL_CITY_LONGITUDE' | translate }}"
                        formControlName="longitude">
                    <mat-error *ngIf="mainForm.controls['longitude'].hasError('required')">
                        <strong>{{ 'GENERAL_CITY_LONGITUDE' | translate }}</strong>{{ 'COMMON_MESSAGE_ERROR_REQUIRED' | translate }}
                    </mat-error>
                </mat-form-field>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <mat-form-field class="full-width">
                    <mat-select placeholder="{{ 'GENERAL_CITY_COUNTRY_CODE' | translate }}"
                        formControlName="countryCode">
                        <mat-option (onSelectionChange)="changeCountryCode($event)" *ngFor="let country of countries"
                            [value]="country.countryCode">
                            {{ country.countryName }}
                        </mat-option>
                    </mat-select>
                    <mat-error *ngIf="mainForm.controls['countryCode'].hasError('required')">
                        <strong>{{ 'GENERAL_CITY_COUNTRY_CODE' | translate }}</strong>{{ 'COMMON_MESSAGE_ERROR_REQUIRED' | translate }}
                    </mat-error>
                </mat-form-field>
            </div>
            <div class="col">
                <mat-form-field class="full-width">
                    <mat-select placeholder="{{ 'GENERAL_CITY_STATE_CODE' | translate }}" formControlName="stateCode">
                        <mat-option *ngFor="let state of states" [value]="state.stateCode">
                            {{ state.stateName }}
                        </mat-option>
                    </mat-select>
                    <mat-error *ngIf="mainForm.controls['stateCode'].hasError('required')">
                        <strong>{{ 'GENERAL_CITY_STATE_CODE' | translate }}</strong>{{ 'COMMON_MESSAGE_ERROR_REQUIRED' | translate }}
                    </mat-error>
                </mat-form-field>
            </div>
        </div>
        <div class="row">
            <div class="col" *ngIf="!create">
                <mat-form-field class="full-width">
                    <mat-select placeholder="{{ 'COMMON_INPUT_STATUS' | translate }}" formControlName="rowStatus">
                        <mat-option *ngFor="let status of statuses" [value]="status.value">
                            {{ status.text | translate}}
                        </mat-option>
                    </mat-select>
                    <mat-error *ngIf="mainForm.controls['rowStatus'].hasError('required')">
                        <strong>{{ 'COMMON_INPUT_STATUS' | translate }}</strong>{{ 'COMMON_MESSAGE_ERROR_REQUIRED' | translate }}
                    </mat-error>
                </mat-form-field>
            </div>
        </div>
    </div>
    <div mat-dialog-actions>
        <button mat-raised-button color="primary" *ngIf="mainForm.status === 'VALID'"
            type="submit">{{ 'COMMON_BUTTON_SAVE' | translate }}</button>
        <button mat-raised-button color="warn" type="button"
            (click)="close()">{{ 'COMMON_BUTTON_CANCEL' | translate }}</button>
    </div>
</form>